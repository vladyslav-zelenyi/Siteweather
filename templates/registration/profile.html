{% extends 'base.html' %}

{% block title %}
    {{ profile.first_name }} {{ profile.last_name }}
{% endblock %}

{% block sidebar %}
    {% include 'inc/_sidebar.html' %}
{% endblock %}

{% block pagination %}
    {% if request.META.HTTP_REFERER|cut:"http://127.0.0.1:8000" != '/login/' %}
        {% ifnotequal request.META.HTTP_REFERER|cut:"http://127.0.0.1:8000" request.get_full_path %}
            {% if request.META.HTTP_REFERER is not None %}
                <a href="{{ request.META.HTTP_REFERER }}" class="btn btn-outline-success btn-block">
                    Previous page
                </a>
            {% endif %}
        {% endifnotequal %}
    {% endif %}
{% endblock %}

{% block content %}

    <div class="card mb-4">
        <div class="card-header">
            <h5 style="color: forestgreen">
                <strong>
                    {{ profile.first_name }} {{ profile.last_name }}
                </strong>
            </h5>
            {% ifequal profile.username user.username %}
                <h6 style="color: forestgreen">
                    {{ profile.username }}
                </h6>
            {% endifequal %}
        </div>
        <div class="card-body">
            <div class="media">
                <div class="media-body">
                    <h6 class="card-text">
                        {% ifequal profile.username user.username %}
                            Username – {{ profile.username }} <br>
                        {% else %}
                            Username is hidden <br>
                        {% endifequal %}
                        {% if profile.email %}
                            Email – {{ profile.email }} <br>
                        {% endif %}
                        {% if profile.phone_number %}
                            Phone number – {{ profile.phone_number }} <br>
                        {% endif %}
                        City - {{ profile.user_city }}
                        {% if profile.photo %}
                            <img src="{{ profile.photo.url }}" width="100%">
                        {% endif %}
                    </h6>
                </div>
            </div>
        </div>
        <div class="card-footer text-muted">
            <strong>
                {% ifequal profile.username user.username %}
                    <a href="/profile/{{ user.id }}/update/">Edit profile</a> <br>
                {% endifequal %}
            </strong>
        </div>
    </div>
{% endblock %}